/**
  ******************************************************************************
  * @file		chronoamperometry.c
  * @brief		Gestión de la cronoamperometría.
  * @author		Albert Álvarez Carulla
  * @copyright	Copyright 2020 Albert Álvarez Carulla. All rights reserved.
  ******************************************************************************
  */

#include "components/chronoamperometry.h"
#include "components/masb_comm_s.h"
#include "components/dac.h"

struct Data_S ChronoamperometryManagement(struct CA_Configuration_S caConfiguration){


	double eDC = caConfiguration.eDC;
	SendVoltageToDac(eDC);

	HAL_GPIO_WritePin(GPIOA, GPIO_PIN_0, 1);

	uint32_t Ts = caConfiguration.samplingPeriodMs;
	uint32_t Mt = caConfiguration.measurementTime;

	uint8_t counts = round(Mt/Ts);



	struct Data_S data_s;

	return data_s;
}
